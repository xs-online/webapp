(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-loginwxxcx"],{"38ab":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".content[data-v-d8902d2e]{display:flex;flex-direction:column;justify-content:center}.header[data-v-d8902d2e]{width:%?161?%;height:%?161?%;background:#3fcdeb;box-shadow:%?0?% %?12?% %?13?% %?0?% rgba(63,205,235,.47);border-radius:50%;margin-top:%?30?%;margin-left:auto;margin-right:auto}.header uni-image[data-v-d8902d2e]{width:%?161?%;height:%?161?%;border-radius:50%}.list[data-v-d8902d2e]{display:flex;flex-direction:column;padding-top:%?50?%;padding-left:%?70?%;padding-right:%?70?%}.list-call[data-v-d8902d2e]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:%?100?%;color:#333;border-bottom:.5px solid #e2e2e2}.list-call .img[data-v-d8902d2e]{width:%?40?%;height:%?40?%}.list-call .sl-input[data-v-d8902d2e]{flex:1;text-align:left;font-size:%?32?%;margin-left:%?16?%}.button-login[data-v-d8902d2e]{color:#fff;font-size:%?34?%;width:%?470?%;height:%?100?%;background:linear-gradient(-90deg,#4bc45d,#bce29e);box-shadow:%?0?% %?0?% %?13?% %?0?% rgba(164,217,228,.2);border-radius:%?50?%;line-height:%?100?%;text-align:center;margin-left:auto;margin-right:auto;margin-top:%?100?%}.button-login1[data-v-d8902d2e]{color:#fff;font-size:%?34?%;width:%?470?%;height:%?80?%;background:linear-gradient(-90deg,#4bc45d,#bce29e);box-shadow:%?0?% %?0?% %?13?% %?0?% rgba(164,217,228,.2);border-radius:%?50?%;line-height:%?80?%;text-align:center;margin-left:auto;margin-right:auto;margin-top:%?30?%;color:#fff}.button-hover[data-v-d8902d2e]{background:linear-gradient(-90deg,rgba(63,205,235,.8),rgba(188,226,158,.8))}.agreenment[data-v-d8902d2e]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:%?30?%;margin-top:%?80?%;color:#ffa800;text-align:center;height:%?40?%;line-height:%?40?%}.agreenment uni-text[data-v-d8902d2e]{font-size:%?24?%;margin-left:%?15?%;margin-right:%?15?%}",""]),t.exports=e},5046:function(t,e,a){"use strict";a.r(e);var n=a("be22"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"85c2":function(t,e,a){"use strict";var n=a("b09a"),i=a.n(n);i.a},a8d3:function(t,e,a){"use strict";a.r(e);var n=a("c72b"),i=a("5046");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("85c2");var s=a("f0c5"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"d8902d2e",null,!1,n["a"],void 0);e["default"]=r.exports},b09a:function(t,e,a){var n=a("38ab");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("e8a7fc2a",n,!0,{sourceMap:!1,shadowMode:!1})},be22:function(t,e,a){"use strict";a("7a82");var n=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c975"),a("e9c4");var i=n(a("f07e")),o=n(a("d0af")),s=n(a("c964")),r={data:function(){return{mobile:"",password:"",openid:"",userinfowx:"",fxpid:"",dltel:""}},onLoad:function(t){t.dltel&&(this.dltel=t.dltel),t.fxpid?this.fxpid=t.fxpid:uni.getStorageSync("fxpid")&&(this.fxpid=uni.getStorageSync("fxpid")),this.userinfowx=uni.getStorageSync("userinfowx")},methods:{dyxx:function(){},bindLogin:function(){var t=this;return(0,s.default)((0,i.default)().mark((function e(){var a,n,s,r,c,d,u;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t,t.mobile){e.next=5;break}return uni.showToast({title:"手机号不能为空",icon:"none"}),t.userfocus=!0,e.abrupt("return",!1);case 5:if(t.password){e.next=9;break}return uni.showToast({title:"密码不能为空",icon:"none"}),t.paswfocus=!0,e.abrupt("return",!1);case 9:return a={account:t.mobile,password:t.password},t.openid&&(a.openid=t.openid),e.next=13,t.$httpas.get("/api/user/login",a);case 13:if(n=e.sent,s=(0,o.default)(n,2),r=s[0],c=s[1],t.$httpas.errorCheck(r,c)){e.next=19;break}return e.abrupt("return");case 19:1===c.data.code?(c.data.data.userinfo.avatar?(d=c.data.data.userinfo.avatar,u=-1!=d.indexOf("data:image")?"":-1!=d.indexOf("http")?c.data.data.userinfo.avatar:t.configs.imgUrl+c.data.data.userinfo.avatar):u="",uni.setStorage({key:"avatar",data:u}),uni.setStorage({key:"userinfo",data:c.data.data.userinfo}),uni.setStorage({key:"config",data:c.data.data.config}),uni.showModal({title:"温馨提示",content:c.data.msg,showCancel:!1,confirmText:"确定",success:function(t){t.confirm?uni.navigateBack():t.cancel}})):uni.showToast({title:c.data.msg,icon:"none"});case 20:case"end":return e.stop()}}),e)})))()},getuserinfo:function(){var t=this;wx.login({success:function(e){if(e.code){e.code;wx.getUserInfo({success:function(e){t.userinfowx=e.userInfo,t.wxlogin()},fail:function(t){}})}}})},wxlogin:function(){var t=this,e=(this.userinfowx,this);uni.login({timeout:1e4,provider:"weixin",success:function(a){uni.request({url:t.configs.webUrl+"/api/user/getOpenid",method:"GET",data:{code:a.code},success:function(t){1==t.data.code?(e.openid=t.data.data,uni.showModal({title:"温馨提示",content:"授权成功",showCancel:!1,confirmText:"确定",success:function(t){t.confirm?e.opsdd():t.cancel}})):uni.showModal({title:"温馨提示",content:JSON.stringify(t.data),showCancel:!1,confirmText:"确定",success:function(t){t.confirm||t.cancel}})},fail:function(t){console.log(t)}})},fail:function(t){}})},opsdd:function(){this.userinfowx.openid=this.openid,uni.setStorage({key:"userinfowx",data:this.userinfowx}),uni.navigateTo({url:"/pages/login/loginwxxcx"})},Loginops:function(){var t=this,e=this;uni.request({url:this.configs.webUrl+"/api/user/getphone",method:"GET",data:{nickName:this.userinfowx.nickName,gender:this.userinfowx.gender,avatarUrl:this.userinfowx.avatarUrl,openid:this.userinfowx.openid,pid:this.fxpid},success:function(a){if(console.log(a.data),1==a.data.code){if(a.data.data.userinfo.avatar){var n=a.data.data.userinfo.avatar;if(-1!=n.indexOf("data:image"))var i="";else i=-1!=n.indexOf("http")?a.data.data.userinfo.avatar:t.configs.imgUrl+a.data.data.userinfo.avatar}else i="";uni.setStorage({key:"avatar",data:i}),uni.setStorage({key:"userinfo",data:a.data.data.userinfo}),uni.setStorage({key:"config",data:a.data.data.config}),uni.showModal({title:"温馨提示",content:a.data.msg,showCancel:!1,confirmText:"确定",success:function(t){t.confirm?e.fxpid>0?uni.switchTab({url:"/pages/client/member/index"}):uni.navigateBack({delta:2}):t.cancel}})}else uni.showModal({title:"温馨提示",content:"网络错误 重新尝试一下",showCancel:!1,confirmText:"确定",success:function(t){t.confirm||t.cancel}})},fail:function(t){console.log(t)}})},onGetPhoneNumber:function(t){var e=this,a=this;if(!this.userinfowx)return uni.showModal({title:"温馨提示",content:"请先授权",showCancel:!1,confirmText:"确定",success:function(t){}}),!1;uni.login({timeout:1e4,provider:"weixin",success:function(n){console.log(n),console.log("onGetPhoneNumber",t),uni.request({url:e.configs.webUrl+"/api/user/getphone",method:"GET",data:{nickName:e.userinfowx.nickName,gender:e.userinfowx.gender,avatarUrl:e.userinfowx.avatarUrl,openid:e.userinfowx.openid,pid:e.fxpid,code:n.code,iv:t.detail.iv,encryptedData:t.detail.encryptedData},success:function(t){if(console.log(t.data),1==t.data.code){if(t.data.data.userinfo.avatar){var n=t.data.data.userinfo.avatar;if(-1!=n.indexOf("data:image"))var i="";else i=-1!=n.indexOf("http")?t.data.data.userinfo.avatar:e.configs.imgUrl+t.data.data.userinfo.avatar}else i="";uni.setStorage({key:"avatar",data:i}),uni.setStorage({key:"userinfo",data:t.data.data.userinfo}),uni.setStorage({key:"config",data:t.data.data.config}),uni.showModal({title:"温馨提示",content:t.data.msg,showCancel:!1,confirmText:"确定",success:function(t){t.confirm?(a.dyxx(),uni.navigateBack({delta:2})):t.cancel}})}else uni.showModal({title:"温馨提示",content:"网络错误 重新尝试一下",showCancel:!1,confirmText:"确定",success:function(t){t.confirm||t.cancel}})},fail:function(t){console.log(t)}})},fail:function(t){}})}}};e.default=r},c72b:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-image",{attrs:{src:t.userinfowx.avatarUrl}})],1),a("v-uni-view",{staticStyle:{height:"100upx","line-height":"100upx","text-align":"center"}},[a("v-uni-text",{staticStyle:{"font-size":"36upx","text-align":"center"}},[t._v(t._s(t.userinfowx.nickName))])],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-call"},[a("v-uni-image",{staticClass:"img",attrs:{src:"/static/shilu-login/1.png"}}),a("v-uni-input",{staticClass:"sl-input",attrs:{type:"number",maxlength:"11",placeholder:"输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),a("v-uni-view",{staticClass:"list-call"},[a("v-uni-image",{staticClass:"img",attrs:{src:"/static/shilu-login/2.png"}}),a("v-uni-input",{staticClass:"sl-input",attrs:{type:"text",maxlength:"32",placeholder:"输入密码",password:"true"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-uni-view",{staticClass:"button-login",attrs:{"hover-class":"button-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindLogin()}}},[a("v-uni-text",{staticStyle:{"font-size":"40upx"}},[t._v("登录")])],1),a("v-uni-view",{staticClass:"agreenment"},[a("v-uni-navigator",{attrs:{url:"reg","open-type":"navigate"}},[t._v("注册账户")])],1)],1)},i=[]}}]);